
$schema: http://json-schema.org/draft-07/schema
$id: niem-rule.schema.json

properties:

  NIEMRule:
    type: object
    description: Information about a rule in a NIEM specification.
    properties:

      specification:
        $ref: niem-base.schema.json/#/definitions/SpecificationType

      section:
        $ref: niem-base.schema.json/#/definitions/SectionType

      id:
        type: string
        example: "rule_9-1"

      name:
        type: string
        example: "rule-base-type-not-xml-ns"

      number:
        type: string
        example: 9-1

      title:
        type: string
        example: No base type in the XML namespace

      link:
        type: string
        example: https://reference.niem.gov/niem/specification/naming-and-design-rules/4.0/niem-ndr-4.0.html#rule_9-1

      applicability:
        type: array
        items:
          # type: string
          $ref: "#/definitions/RuleApplicabilityType"
        example: ["REF", "EXT"]

      classification:
        # type: string
        # enum: ["Constraint", "Interpretation"]
        $ref: "#/definitions/RuleClassificationType"
        example: Constraint

      style:
        # type: string
        # enum: ["text", "schematron"]
        $ref: "#/definitions/RuleStyleType"
        example: text

      language:
        $ref: "#/definitions/RuleLanguageType"

      pre:
        type: string
        description: Descriptive text that precedes a rule

      text:
        type: string
        description: The descriptive text portion of a rule

      post:
        type: string
        description: Descriptive text that follows a rule

      schematron:
        type: string

  NIEMRuleApplicability:
    $ref: "#/definitions/RuleApplicabilityType"
    description: A conformance target to which this rule applies.

  NIEMRuleApplicabilityNDR:
    $ref: "#/definitions/RuleApplicabilityNDRType"
    description: A NDR conformance target to which this rule applies.

  NIEMRuleClassification:
    $ref: "#/definitions/RuleClassificationType"
    description: Specifies if the rule is a requirement or principle.

  NIEMRuleStyle:
    $ref: "#/definitions/RuleStyleType"
    description: Indicates if and how the rule may be automated.

  NIEMRuleLanguage:
    $ref: "#/definitions/RuleLanguageType"
    description: Specifies the NIEM document language to which this rule applies.

definitions:

  SpecificationType:
    type: "object"
    properties:
      name:
        type: string
        example: Naming and Design Rules
      id:
        type: string
        example: NDR
      version:
        type: string
        example: NDR-4.0
      versionLabel:
        type: string
        example: "4.0"
      current:
        type: boolean
        default: false
      niem:
        type: array
        items:
          type: string
        example: ["4.0", "4.1", "4.2"]
      link:
        type: string
        format: uri
        example: https://reference.niem.gov/niem/specification/naming-and-design-rules/4.0/niem-ndr-4.0.html

  SectionType:
    type: object
    properties:
      id:
        type: string
        example: section_9.1.1.1
      name:
        type: string
        example: 9.1.1.1
      link:
        type: string
        example: https://reference.niem.gov/niem/specification/naming-and-design-rules/4.0/niem-ndr-4.0.html#section_9.1.1.1

  RuleApplicabilityType:
    type: string
    enum: ["REF", "EXT", "SET", "INS"]

  RuleApplicabilityNDRType:
    type: string
    enum: ["REF", "EXT", "SET", "INS"]

  RuleClassificationType:
    type: string
    enum: ["Constraint", "Interpretation"]

  RuleStyleType:
    type: string
    enum: ["text", "schematron"]

  RuleLanguageType:
    type: string
    enum: ["all", "xml", "json"]
